{% extends "base.html" %}


{% block head %}{% endblock %}
{% block body %}

<div class = "content">
    <h1> Task Master </h1>

    <form action="/" method="POST">
        <input id="content" type="text" name="content" placeholder = "Enter a task"></input>
        <input type="submit" value="Add Task">
    </form>


    {% if tasks|length < 1%}
    <p> No tasks found. Add a new task using the form below. </p>
    {%else%}
        
            <table>
                <tr>
                    <th>Task</th>
                    <th>Created on</th>
                    <th>Actions</th>
                </tr>
                {% for task in tasks%}
                {% if not task.is_deleted%}
                    <tr>
                        <td>{{task.content}}</td>
                        <td>{{task.date_created}}</td>
                        <td>
                            <a href="/complete/{{task.id}}">Completed</a>
                            <br>
                            <a href="/update/{{task.id}}">Update</a>
                        </td>
                    </tr>
                {% endif %}
                {% endfor %}
            </table>
        <h1>Completed tasks</h1>
            <table>
                <tr>
                    <th>Task</th>
                    <th>Created on</th>
                    <th>Completed on</th>
                    <th>Actions</th>
                </tr>
                {% for task in tasks%}
                {% if task.is_deleted%}
                    <tr>
                        <td>{{task.content}}</td>
                        <td>{{task.date_created}}</td>
                        <td>{{task.date_completed}}</td>
                        <td>
                            <a href="/deletePermanent/{{task.id}}">Delete</a>
                            <br>
                            <a href="/update/{{task.id}}">Update</a>
                            <br>
                            <a href="/review/{{task.id}}">Review</a>
                        </td>
                    </tr>
                {% endif %}
                {% endfor %}
            </table>
    {% endif %}


    
</div>

{% endblock %}